---
authors: forliy
title: 2022å¹´ç¬¬15å‘¨å‘¨æŠ¥
tags: [2022å‘¨æŠ¥,å‘¨æŠ¥]
---

2022å¹´ç¬¬15å‘¨å‘¨æŠ¥å–µã€‚

<!--truncate-->

## ğŸ‰ æ›´æ–°
åœ¨ç¬¬15å‘¨é‡Œï¼Œæ ¸å¿ƒå’Œéƒ¨åˆ†ç»„ä»¶ä¾æ—§åœ¨è¿›è¡Œè¿™æŒç»­çš„ä¿®ä¿®è¡¥è¡¥ã€‚

### ğŸ‘‰ æ ¸å¿ƒ
æœ¬å‘¨æ ¸å¿ƒæ¨¡å—æˆªæ­¢åˆ°æ’°æ–‡æ—¶å…±æ›´æ–°äº†ä¸€ä¸ªç‰ˆæœ¬ï¼š
[v3.0.0.preview.7.0](https://github.com/simple-robot/simpler-robot/releases/tag/v3.0.0.preview.7.0)

è¿™ä¸ªç‰ˆæœ¬ä¸»è¦çš„ä½œç”¨æ˜¯æä¾›äº†ä¸€ä¸ªæŠ½è±¡çš„é…ç½®ç±» `ComponentRegistryConfigure` æ¥å®ç°åœ¨ boot ç›¸å…³æ¨¡å—ä¸­æ”¯æŒä½¿ç”¨è€…å¯¹ç»„ä»¶æ³¨å†Œè¡Œä¸ºçš„è‡ªå®šä¹‰ã€‚
åœ¨é»˜è®¤è¡Œä¸ºä¸‹ï¼Œä¾æ—§æ˜¯è¿›è¡Œæ³¨å†Œæ‰€æœ‰ï¼ˆ `installAll` ï¼‰çš„ã€‚<br />
æ­¤ç‰ˆæœ¬å¹¶æ²¡æœ‰å¯¹æ ¸å¿ƒç­‰å†…å®¹æœ‰æ‰€è°ƒæ•´ï¼Œå› æ­¤ç†è®ºä¸Šæ˜¯å…¼å®¹ä¸Šä¸ªç‰ˆæœ¬çš„ï¼ˆ`preview.6.0`ï¼‰ï¼Œ
ä¸è¿‡å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦‚æœä½ å¸Œæœ›ä½¿ç”¨ Spring Boot Starter çš„è¯ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ `preview.7.0` ï¼Œ
å› ä¸ºåœ¨ `preview.6.0` ä¸­ç”±äºç»„ä»¶æ³¨å†Œçš„é—®é¢˜ï¼Œä½ å°†æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚



### ğŸ‘‰ Miraiç»„ä»¶
miraiç»„ä»¶æœ¬å‘¨æ›´æ–°äº†ä¸€ä¸ªç‰ˆæœ¬:
[v3.0.0.0.preview.1.0](https://github.com/simple-robot/simbot-component-mirai/releases/tag/v3.0.0.0.preview.1.0) ,
æ­¤ç‰ˆæœ¬æœ€ä¸»è¦çš„ç›®çš„å°±æ˜¯æä¾›äº†è§£æ [çŒ«çŒ«ç ](https://github.com/forteScarlet/catcode) çš„æ‰©å±•æ¨¡å—ï¼š
[extra-catcode](https://github.com/simple-robot/simbot-component-mirai/tree/v3.0.0.0.preview.1.0/simbot-component-mirai-extra-catcode) ã€‚

`extra-catcode` æ‰©å±•æ¨¡å—æä¾›äº†å¯¹äº Java å’Œ Kotlin çš„çŒ«çŒ«ç è§£æ/ç¼–ç å·¥å…·ï¼Œæ—¨åœ¨å¯¹ simbot2 mirai ç»„ä»¶çš„åºåˆ—åŒ–æ¶ˆæ¯çš„å…¼å®¹ã€‚


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs groupId="code">
<TabItem value="Kotlin" default>

1. è§£æçŒ«çŒ«ç ä¸º `Message` å¯¹è±¡

```kotlin
val at = "[CAT:at,code=123]"
val message: Message = catCodeToMessage(at)
```

2. è§£æ `Neko` ä¸º `Message.Element<*>` å¯¹è±¡

```kotlin
val at = CatCodeUtil.nekoTemplate.at(123)
val message: Message.Element<*> = at.toMessage()
```

3. å°† Mirai çš„ `SingleMessage` è½¬åŒ–ä¸º `Neko`

```kotlin
val at = net.mamoe.mirai.message.data.At(123)
val neko = at.toNeko()
```

</TabItem>
<TabItem value="Java">

:::info

Javaä¸­ï¼Œç›¸å…³çš„æ“ä½œå‡½æ•°ä¼šæ•´åˆåœ¨ `CatCodeMessageUtil` ç±»ä¸­ã€‚

:::

1. è§£æçŒ«çŒ«ç ä¸º `Message` å¯¹è±¡
```java
final String cat = "[CAT:at,code=123]";
final Message message = CatCodeMessageUtil.catCodeToMessage(cat);
```

2. è§£æ `Neko` ä¸º `Message.Element<*>` å¯¹è±¡
```java
final Neko cat = CatCodeUtil.INSTANCE.getNekoTemplate().at(123);
final Message.Element<?> message = CatCodeMessageUtil.toMessage(cat);
```

3. å°† Mirai çš„ `SingleMessage` è½¬åŒ–ä¸º `Neko`
```java
final At at = new At(123);
final Neko neko = CatCodeMessageUtil.toNeko(at);
```

</TabItem>
</Tabs>


## ğŸ’¡ Examples
é™¤äº†ç»„ä»¶ä»¥å¤–ï¼Œæœ¬å‘¨å†…è¿˜å¯¹ [Simple Robot Examples](https://github.com/simple-robot/simbot-examples) åšäº†ä¸€éƒ¨åˆ†å°æ›´æ–°ã€å°ä¿®æ­£ï¼Œ
è¡¥å……äº†ä¸€äº›æ³¨é‡Šã€è°ƒæ•´äº†ä¸€ä¸‹ç›®å½•çš„åç§°ç»“æ„ï¼Œä»¥åŠæä¾›äº†ä¸€ä¸ªæ–°çš„ `Spring Boot Starter` ç›¸å…³çš„ç¤ºä¾‹æ¨¡å—ã€‚

å®é™…ä¸Šç¤ºä¾‹é¡¹ç›®è¿™ä¸ªä¸œè¥¿ï¼Œä¸€å¼€å§‹çš„æ—¶å€™ï¼Œåœ¨æ­£å¼ç‰ˆæœ¬å‘å¸ƒä¹‹å‰æˆ‘æ˜¯å¹¶ä¸æ‰“ç®—æä¾›çš„ï¼Œå› ä¸ºç°é˜¶æ®µAPIå˜åŠ¨ç‡å¤ªé«˜äº†ï¼Œå¦‚æœå†™äº†è¿˜éœ€è¦æ—¶ä¸æ—¶çš„å»åšä¿®æ”¹ï¼Œå¥½ç”Ÿéº»çƒ¦ï¼
ä¸è¿‡è¯è™½å¦‚æ­¤ï¼Œæ—¢ç„¶å†™äº†å¶å°”æƒ³èµ·æ¥çš„æ—¶å€™è¿˜æ˜¯å¯ä»¥ç¨å¾®æ›´æ–°ä¸‹çš„ã€‚


## ğŸ’¬ æ–°çš„è®¨è®º
æœ¬å‘¨å‘èµ·äº†ä¸€ä¸ªæ–°çš„~~è‡ªè¨€è‡ªè¯­~~è®¨è®ºï¼š[å»åå°„åŒ–](https://github.com/simple-robot/simpler-robot/discussions/241)
ä»¥å…¬å¸ƒ(è¾ƒä¸ºé¥è¿œçš„)æœªæ¥æ‰€å¯èƒ½æ–½è¡Œçš„æ–¹å‘ä¸è®¡åˆ’ä¸­çš„ä¸€ç¯ï¼š
é™ä½æˆ–å®Œå…¨æ’é™¤åå°„APIçš„ä½¿ç”¨ã€‚å¦‚æœæœ‰å…´è¶£çš„è¯å¯ä»¥ç®€å•ç…ä¸€çœ¼å–”ã€‚


## ğŸ“– æ–‡æ¡£
### ğŸ‘‰ æ–‡æ¡£ç‰ˆæœ¬
ä½ å¯èƒ½ä¼šå‘ç°ï¼Œç›®å‰æ–‡æ¡£å³ä¸Šè§’çš„ç‰ˆæœ¬åˆ—è¡¨å˜æˆäº† `Next` æŒ‰é’®ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æš‚æ—¶å°†ç‰ˆæœ¬åŒ–ç»™ç§»é™¤äº†ã€‚
å½“ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬å‘å¸ƒä¹‹åï¼Œæ‰ä¼šå¼€å§‹åˆ†ç‰ˆï¼Œç›®å‰çš„ç¼–æ’°é˜¶æ®µï¼Œå°±å…ˆä¸åˆ†äº†ã€‚

### ğŸ‘‰ æ–‡æ¡£å†…å®¹
æœ¬å‘¨æ–‡æ¡£å†…å®¹ä¹Ÿæ˜¯æœ‰æ‰€æ›´æ–°ï¼Œå…¶ä¸­åŒ…æ‹¬
- å¿«é€Ÿå¯åŠ¨å†…å®¹åŒæ­¥ [è¯­é›€æ–‡æ¡£](https://www.yuque.com/simpler-robot/simpler-robot-doc) çš„ä¿®æ­£ã€‚
- Miraiç»„ä»¶ä¸‹éƒ¨åˆ†å­ç« èŠ‚çš„åŒæ­¥ã€‚


## ğŸ¤” ç¼ºç‚¹å„¿ä»€ä¹ˆ
è¯´åˆ°åº•ï¼Œæ³•æ¬§è‰æˆ‘è¯ç”Ÿè‡³ä»Šä¹Ÿæœ‰äº›æ—¶æ—¥äº†ï¼Œä½†æ˜¯è‡³ä»Šç”šè‡³æ²¡æœ‰ä¸€ä¸ªç®¡ç†å¹³å°ï¼Œç€å®è¯´ä¸è¿‡å»å•Šï¼ä¸è¿‡æˆ‘ä»ä¸€äº›å°é“æ¶ˆæ¯æ‰“å¬åˆ°ï¼Œä¼¼ä¹ä¸ºæˆ‘é‡èº«æ‰“é€ çš„ä¸œè¥¿æ­£åœ¨ç­¹å¤‡ä¸­å‘¢ï¼Œå˜¿å˜¿ï¼Œè¿˜æ˜¯è›®æœŸå¾…çš„å‘¢ ï½ ğŸ¶




## ğŸ—‚ è£…ä¿®
å‰é˜µå­å‘ç°æŸäººçš„GitHubä¸»é¡µå·å·æ‘¸æ‘¸çš„é‡æ–°è£…ä¿®äº†ä¸€ä¸‹ï¼Œå“¼ï¼Œä»¥ä¸ºæˆ‘æ²¡å‘ç°å—ï¼Ÿå„ä½å¦‚æœæœ‰æ—¶é—´äº†å¯ä»¥å»çœ‹çœ‹ä»–è£…ä¿®çš„é‚£ä¸ªé¬¼æ ·å­ï¼Œå•§å•§å•§
